# ğŸ›¡ï¸ Deployment Safety Guide Template

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘   THIS PROJECT: YOUR_PROJECT_ID_HERE                                         â•‘
â•‘   HOSTING URL:  https://YOUR_PROJECT_ID_HERE.web.app                         â•‘
â•‘                                                                              â•‘
â•‘   ğŸš« NEVER DEPLOY TO: [list other projects you don't want to mix up]        â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ¯ Purpose of This File

This template helps you create deployment safeguards to prevent accidentally deploying to the wrong Firebase project. This is especially useful if you:
- Work on multiple Firebase projects
- Have similar project names that could be confused
- Want AI assistants to have clear deployment rules

## ğŸ“ How to Use This Template

1. **Copy this file** to `DEPLOY_SAFETY.md` (without the `.template` extension)
2. **Replace placeholders**:
   - `YOUR_PROJECT_ID_HERE` â†’ your actual Firebase project ID
   - `[list other projects...]` â†’ projects you want to avoid deploying to
3. **Add to `.gitignore`** - This file is user-specific, not for version control
4. **Reference in copilot-instructions.md** - Add a critical warning section

## Quick Safety Check

Before any deployment, run this command to verify you're targeting the right project:

```powershell
# Check current Firebase project
firebase use

# Expected output should show:
# Active Project: YOUR_PROJECT_ID_HERE
```

## Safe Deployment (Recommended)

Always use the deploy script which has built-in safeguards:

```powershell
.\deploy.ps1
```

The deploy script will:
1. âœ… Verify you're in the correct directory (checks `package.json` name)
2. âœ… Verify `.firebaserc` has correct project
3. âœ… Block deployment to any banned project
4. âœ… Require you to type project name to confirm
5. âœ… Always use `--project YOUR_PROJECT_ID_HERE` flag

## Manual Deployment (Use with caution!)

If you must deploy manually, ALWAYS include the project flag:

```powershell
# Build first
npm run build

# Deploy with explicit project (REQUIRED!)
firebase deploy --project YOUR_PROJECT_ID_HERE

# Or specific targets
firebase deploy --only hosting --project YOUR_PROJECT_ID_HERE
firebase deploy --only functions --project YOUR_PROJECT_ID_HERE
firebase deploy --only firestore:rules --project YOUR_PROJECT_ID_HERE
```

## ğŸš« Banned Projects List

Projects to NEVER deploy to from this directory:

- `other-project-name-1` - Production app for different client
- `other-project-name-2` - Personal project with different purpose
- `experimental-project` - Testing environment

_(Add your own list of projects to avoid)_

## Emergency Recovery

If you accidentally deployed to the wrong project:

1. **Don't panic** - You can rollback Firebase Hosting
2. **Check what was deployed**: `firebase hosting:rollback --project WRONG_PROJECT`
3. **Restore previous version** via Firebase Console â†’ Hosting â†’ Release History
4. **Verify**: Visit the hosting URL to confirm rollback worked

## Integration with AI Assistants

Add this to your `.github/copilot-instructions.md` or similar:

```markdown
## âš ï¸ CRITICAL: Firebase Project Configuration

THIS PROJECT DEPLOYS TO: YOUR_PROJECT_ID_HERE
HOSTING URL: https://YOUR_PROJECT_ID_HERE.web.app

ğŸš« NEVER DEPLOY TO: [your banned projects list]

Before ANY deployment command:
1. Check `.firebaserc` shows `"default": "YOUR_PROJECT_ID_HERE"`
2. Run `firebase use` to verify current project
3. Use `.\deploy.ps1` which has built-in safeguards
4. ALWAYS use `--project YOUR_PROJECT_ID_HERE` flag
```

## Why These Safeguards Matter

Firebase CLI remembers your last active project globally. If you switch between projects, it's easy to accidentally deploy the wrong codebase to the wrong project. These safeguards prevent:

- âŒ Deploying development code to production
- âŒ Overwriting another project's hosting with wrong app
- âŒ Mixing up databases/rules between projects
- âŒ Confusion when working with AI coding assistants

## See Also

- `deploy.ps1.template` - PowerShell deploy script with safeguards
- `verify-project.ps1.template` - Quick project verification script
- `.firebaserc.template` - Firebase project configuration template
